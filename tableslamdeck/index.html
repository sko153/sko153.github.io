<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Table slam Deck setting</title>
  <meta name=viewport content="width=device-width, initial-scale=1">
  <style>
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0;
      padding: 20px;
    }
	
	#mainContainer {
      display: flex;
      flex-direction: row;
      justify-content: center;
      gap: 20px;
    }

    #buttonsContainer {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }
	
    .buttonRow {
      display: flex;
      flex-direction: row;
	  gap: 5px;
    }

    button {
      padding: 5px 16px;
    }
	
	input {
      width: 60px;
    }

    #receivedDataContainer {
	  display:flex;
      width: 400px;
	  height: 400px;
      border: 1px solid #ccc;
      padding: 10px;
      background-color: #f5f5f5;
      overflow-y: auto;
      flex-direction: column-reverse;
	  
    }
	
	#helpLabelsContainer {
	  display: flex;
	  flex-direction: column;
	  text-align: left;
	}
	
	.key-buttons-container {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
    }

    .key-button {
      width: 50px;
      height: 25px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: bold;
      border: 1px solid #ccc;
      border-radius: 5px;
      cursor: pointer;

    }

    .key-button:hover {
      pointer-events: none;
    }

    .pressed {
      background-color: #f0b0d0;
    }
	
	#myImage {
      display: none;
      width: 400px;
    }

    .buttonWithText {
      display: flex;
      align-items: center;
    }

    .buttonWithText button {
      width: 200px;
      padding: 2px;
      margin-right: 10px;
    }

    .buttonWithText #displayText {
      display: none;
    }
	
  </style>
</head>
<body>
  <div id="mainContainer">
    <div id="buttonsContainer">
      <button id="connectBtn" disabled>연결</button>
      <button id="sendSetBtn" disabled>설정 값 확인</button>
	  
      <br>
	  
      <label>센서감도 설정</label>
      <div class="buttonRow">
        <label for="onTime">On Time (ms):</label>
        <input type="number" id="onTime" value="20" min="1">
        <button id="sendOnBtn" disabled>적용</button>
      </div>
      <div class="buttonRow">
        <label for="offTime">Off Time (ms):</label>
        <input type="number" id="offTime" value="100" min="1">
        <button id="sendOffBtn" disabled>적용</button>
      </div>
	  
      <br>
	  
      <label>모드 설정</label>
      <div class="buttonRow">
        <button style="width: 120px;" id="sendM0Btn" disabled>8 버튼</button>
        <button style="width: 120px;" id="sendM1Btn" disabled>7 버튼+센서</button>
      </div>
	  
	  <br>
	  
	  <label>키 입력 테스트</label>
	  <div class="key-buttons-container">
        <div class="key-button" data-keycode="124">F13</div>
        <div class="key-button" data-keycode="125">F14</div>
        <div class="key-button" data-keycode="126">F15</div>
        <div class="key-button" data-keycode="127">F16</div>
        <div class="key-button" data-keycode="128">F17</div>
        <div class="key-button" data-keycode="129">F18</div>
        <div class="key-button" data-keycode="130">F19</div>
        <div class="key-button" data-keycode="131">F20</div>
      </div>
    </div>
    
    <div id="receivedDataContainer">
	  <button id="clearBtn" disabled>로그 삭제</button>
      <pre id="receivedData"></pre>
    </div>
  </div>
  
  <br>
  
  <div id="helpLabelsContainer">
    <label for="help">On Time 값이 작을수록 작은 충격에도 감지합니다 (센서 구슬이 떠있는 시간)</label>
    <label for="help">Off Time 값이 작으면 이중 인식이 될 수도 있습니다 (해당 시간 동안 충격이 없어야 다시 인식합니다)</label>
	<div class="buttonWithText">
      <button onclick="toggleImage()">연결해제는 어떻게 하나요?</button>
      <span id="displayText">연결해제해도 키 입력 테스트는 가능합니다</span>
    </div>
    <img id="myImage" src="data:image/png;base64,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" alt="사진">
  </div>

  <script>
  
    //시리얼통신
    let port;
    let writer;
    let reader; // Declare the reader variable in the global scope
    let receivedDataBuffer = ''; // Buffer to store incomplete lines of received data
    let receivedDataLog = []; // Array to store received data

    const connectBtn = document.getElementById('connectBtn');
    const sendOnBtn = document.getElementById('sendOnBtn');
    const sendOffBtn = document.getElementById('sendOffBtn');
    const sendSetBtn = document.getElementById('sendSetBtn');
    const sendM0Btn = document.getElementById('sendM0Btn');
    const sendM1Btn = document.getElementById('sendM1Btn');
    const onTimeInput = document.getElementById('onTime');
    const offTimeInput = document.getElementById('offTime');
    const receivedDataElement = document.getElementById('receivedData');

    // Function to handle received data
    function handleReceivedData(event) {
      receivedDataBuffer += event.data;
      const lines = receivedDataBuffer.split('\n');

      // If the last line is incomplete, store it in the buffer for the next iteration
      receivedDataBuffer = lines.pop();

      // Process complete lines of data
      for (const line of lines) {
        const formattedLine = line.trim();
        if (formattedLine !== '') {
          receivedDataLog.push(formattedLine);
        }
      }

      // Update the data log display
      updateDataLog();
    }

    // Function to update the received data log
    function updateDataLog() {
	
      receivedDataElement.innerText = receivedDataLog.join('\n');
	  // Scroll the receivedData element to the bottom
      receivedDataElement.scrollTop = receivedDataElement.scrollHeight;

      // Enable or disable the clear button based on the received data
      clearBtn.disabled = receivedDataLog.length === 0;
    }
	
	// Function to show the connection alert
    function showConnectionAlert() {
      const alertMessage = '[COM** Table slam Deck] 을 선택해주세요'; // Customize the alert message
      window.alert(alertMessage);
	  
	  // Call the connectSerialDevice() function regardless of the user response
      connectSerialDevice();
    }
	
	function toggleImage() {
      // 요소를 가져옵니다.
      var imageElement = document.getElementById("myImage");
	  var displayTextElement = document.getElementById("displayText");

      // 보이는 상태인지 확인합니다.
      var isVisible = imageElement.style.display === "block";

      // 보이는 상태면 숨기고, 안 보이는 상태면 보이도록 합니다.
      if (isVisible) {
          imageElement.style.display = "none";
		  displayTextElement.style.display = "none";
      } else {
          imageElement.style.display = "block";
		  displayTextElement.style.display = "inline";
        }
    }

    // Function to connect to the serial device
    async function connectSerialDevice() {
      try {
        // Request access to the serial port
        port = await navigator.serial.requestPort();

        // Open the serial port and set the baud rate
        await port.open({ baudRate: 115200 });

        // Setup the reader to read data from the serial port
        const textDecoder = new TextDecoderStream();
        const readableStreamClosed = port.readable.pipeTo(textDecoder.writable);
        const reader = textDecoder.readable.getReader();

        // Setup the writer to write data to the serial port
        const textEncoder = new TextEncoderStream();
        const writableStreamClosed = textEncoder.readable.pipeTo(port.writable);
        writer = textEncoder.writable.getWriter();
		
		// Enable the disconnect button and disable the connect button
        connectBtn.disabled = true;

        // Enable other buttons for sending commands
        sendOnBtn.disabled = false;
        sendOffBtn.disabled = false;
        sendSetBtn.disabled = false;
        sendM0Btn.disabled = false;
        sendM1Btn.disabled = false;
        onTimeInput.disabled = false;
        offTimeInput.disabled = false;

        // Listen for incoming data from the serial port
        while (true) {
          const { value, done } = await reader.read();
          if (done) break;

          // Call the function to handle received data
          handleReceivedData({ data: value });
        }

        // Handle port disconnection
        await port.close();
        reader.releaseLock();
        receivedDataElement.innerText = 'Disconnected';
		
		// Enable the connect button and disable other buttons
        connectBtn.disabled = false;
        sendOnBtn.disabled = true;
        sendOffBtn.disabled = true;
        sendSetBtn.disabled = true;
        sendM0Btn.disabled = true;
        sendM1Btn.disabled = true;
        onTimeInput.disabled = true;
        offTimeInput.disabled = true;
      } catch (error) {
        console.error('Error: ', error);
        receivedDataElement.innerText = 'Error: ' + error.message;
      }
    }

    // Function to send "on" command to the serial device
    async function sendOnCommand() {
      if (writer) {
        const onTime = onTimeInput.value.trim();
        const data = `on ${onTime}\n`;
        writer.write(data);
      }
    }

    // Function to send "off" command to the serial device
    async function sendOffCommand() {
      if (writer) {
        const offTime = offTimeInput.value.trim();
        const data = `off ${offTime}\n`;
        writer.write(data);
      }
    }

    // Function to send "set" command to the serial device
    async function sendSetCommand() {
      if (writer) {
        const data = 'set\n';
        writer.write(data);
      }
    }

    // Function to send "m 0" command to the serial device
    async function sendM0Command() {
      if (writer) {
        const data = 'm 0\n';
        writer.write(data);
      }
    }

    // Function to send "m 1" command to the serial device
    async function sendM1Command() {
      if (writer) {
        const data = 'm 1\n';
        writer.write(data);
      }
    }

    // Check if the Web Serial API is supported
    if ('serial' in navigator) {
      connectBtn.disabled = false;
      sendOnBtn.disabled = true;
      sendOffBtn.disabled = true;
      sendSetBtn.disabled = true;
      sendM0Btn.disabled = true;
      sendM1Btn.disabled = true;
      onTimeInput.disabled = true;
      offTimeInput.disabled = true;
    } else {
      receivedDataElement.innerText = 'Web Serial API not supported in this browser.';
    }

    // Connect button click event
    connectBtn.addEventListener('click', () => {
      // Show an alert and call the connectSerialDevice() function when the "연결" (Connect) button is clicked
      showConnectionAlert();
    });

    // Send "on" button click event
    sendOnBtn.addEventListener('click', sendOnCommand);

    // Send "off" button click event
    sendOffBtn.addEventListener('click', sendOffCommand);

    // Send "set" button click event
    sendSetBtn.addEventListener('click', sendSetCommand);

    // Send "m 0" button click event
    sendM0Btn.addEventListener('click', sendM0Command);

    // Send "m 1" button click event
    sendM1Btn.addEventListener('click', sendM1Command);
	
	const clearBtn = document.getElementById('clearBtn');
    clearBtn.addEventListener('click', () => {
      // Clear the received data
      receivedDataLog = [];
      updateDataLog();
    });
	
	
	
	
	//키입력 테스트
	const buttons = document.querySelectorAll(".key-button");

    document.addEventListener("keydown", function(event) {
      const keyCode = event.keyCode || event.which;
      const keyButton = getKeyButton(keyCode);
      if (keyButton) {
        keyButton.classList.add("pressed");
      }
    });

    document.addEventListener("keyup", function(event) {
      const keyCode = event.keyCode || event.which;
      const keyButton = getKeyButton(keyCode);
      if (keyButton) {
        keyButton.classList.remove("pressed");
      }
    });

    buttons.forEach(button => {
      button.addEventListener("click", function() {
        const keyCode = this.getAttribute("data-keycode");
        simulateKeyPress(keyCode);
        this.classList.add("pressed");
        setTimeout(() => {
          this.classList.remove("pressed");
        }, 100);
      });
    });

    function getKeyButton(keyCode) {
      return Array.from(buttons).find(button => button.getAttribute("data-keycode") === String(keyCode));
    }

    function simulateKeyPress(keyCode) {
      const event = new KeyboardEvent("keydown", { keyCode: keyCode });
      document.dispatchEvent(event);
    }
	
  </script>
</body>
</html>
